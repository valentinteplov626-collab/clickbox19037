(()=>{var e,t,r=Object.create,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,c=(t,n,r,a)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let e of s(n))l.call(t,e)||e===r||o(t,e,{get:()=>n[e],enumerable:!(a=i(n,e))||a.enumerable});return t},n=(e,t,n)=>(n=null!=e?r(a(e)):{},c(!t&&e&&e.__esModule?n:o(n,"default",{value:e,enumerable:!0}),e)),d=(e={"src/landings/clickbox/locale/en.json"(e,t){t.exports={claim_your_reward:"Claim Your Reward!",congratulations:"Congratulations!",you_have_10_seconds_tap_to_earn:"You have only {seconds} seconds. Tap to earn your bonus!",start:"Start",tap_to_earn:"Tap to earn your bonus",you_have_10_seconds:"You have {seconds} seconds",time_left:"Time left:",you_have_to_get_the_bonus:"You have {final_seconds} to get the bonus!",click_and_claim_your_reward:"Click on the button below and claim your reward.",claim_reward:"Claim Reward"}}},function(){return t||(0,e[s(e)[0]])((t={exports:{}}).exports,t),t.exports}),E=(e=>(e.Error="Error",e.RangeError="RangeError",e.ReferenceError="ReferenceError",e.SecurityError="SecurityError",e.SyntaxError="SyntaxError",e.TypeError="TypeError",e.Unknown="Unknown",e))({}),L=(e=>(e.rejectionhandled="rejectionhandled",e.unhandledrejection="unhandledrejection",e))({}),I=((()=>{let n=window.syncMetric;n?(window.addEventListener("error",e=>{var t;e.filename.includes("extension")||(t=`errorMessage: ${e.message}, lineNumber: ${e.lineno}, columnNumber: ${e.colno}, file: `+e.filename,e=e.error.name&&Object.values(E).includes(e.error.name)?e.error.name:"Unknown",n({event:"error",errorMessage:t,errorSubType:e,errorType:"JS"}))}),window.addEventListener("unhandledrejection",e=>{var t;"object"==typeof e.reason&&null!=(t=null==(t=e.reason)?void 0:t.stack)&&t.includes("extension")||(t="object"==typeof e.reason&&null!=(t=e.reason)&&t.message?e.reason.message:JSON.stringify(e.reason),e=e.type,e=Object.values(L).includes(e)?e:"Unknown",n({event:"unhandledRejection",errorMessage:t,errorSubType:e,errorType:"JS"}))})):console.log("Sync metric is not initialized")})(),async()=>{var e=navigator;if(!e.userAgentData)return"";try{var t=["platformVersion"];return(await e.userAgentData.getHighEntropyValues(t)).platformVersion}catch(e){return e instanceof Error&&window.syncMetric&&window.syncMetric({event:"error",errorMessage:e.message,errorType:"CUSTOM",errorSubType:"FetchPlatformVersion"}),""}}),D=()=>{if("undefined"!=typeof Intl&&"function"==typeof Intl.DateTimeFormat){var e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e)return e}return""},F=()=>(new Date).getTimezoneOffset(),q=t=>{let n=new URLSearchParams;return Object.keys(t).forEach(e=>{t[e]&&n.set(e,t[e])}),n},u=new URL(window.location.href),m={pz:null!=(T=u.searchParams.get("pz"))?T:"",tb:null!=(T=u.searchParams.get("tb"))?T:"",tb_reverse:null!=(T=u.searchParams.get("tb_reverse"))?T:"",ae:null!=(T=u.searchParams.get("ae"))?T:"",z:null!=(T=u.searchParams.get("z"))?T:"",var:null!=(T=u.searchParams.get("var"))?T:"",var_1:null!=(T=u.searchParams.get("var_1"))?T:"",var_2:null!=(T=u.searchParams.get("var_2"))?T:"",var_3:null!=(T=u.searchParams.get("var_3"))?T:"",b:null!=(T=u.searchParams.get("b"))?T:"",campaignid:null!=(T=u.searchParams.get("campaignid"))?T:"",abtest:null!=(T=u.searchParams.get("abtest"))?T:"",rhd:null!=(T=u.searchParams.get("rhd"))?T:"1",s:null!=(T=u.searchParams.get("s"))?T:"",ymid:null!=(T=u.searchParams.get("ymid"))?T:"",wua:null!=(T=u.searchParams.get("wua"))?T:"",use_full_list_or_browsers:null!=(T=u.searchParams.get("use_full_list_or_browsers"))?T:"",cid:null!=(T=u.searchParams.get("cid"))?T:"",geo:null!=(T=u.searchParams.get("geo"))?T:""},G=({passParamToParams:e,searchParams:a,windowUrl:o})=>(e.forEach(e=>{var{from:e,to:t,joinWith:n}=e;let r=Array.isArray(e)?e.map(e=>null!=(e=o.searchParams.get(e))?e:"").filter(Boolean).join(null!=n?n:""):null!=(n=o.searchParams.get(e))?n:"";r&&t.forEach(e=>{a.set(e,r)})}),a),w=async({zone:e,passParamToParams:t})=>{var n=D(),r=F(),a=(null==(a=document.querySelector("html"))?void 0:a.getAttribute("data-version"))||"",o=(null==(o=document.querySelector("html"))?void 0:o.getAttribute("data-landing-name"))||"",i=null!=(i=window.templateHash)?i:"",a=JSON.stringify({dataVer:a,landingName:o,templateHash:i}),o=btoa(a),i={pz:m.pz,tb:m.tb,tb_reverse:m.tb_reverse,ae:m.ae,ab2r:m.abtest||String(APP_CONFIG.abtest||"")};let s={ymid:null!=(a=m.var_1)?a:m.var,var:null!=(a=m.var_2)?a:m.z,var_3:m.var_3,b:m.b,campaignid:m.campaignid,click_id:m.s,rhd:m.rhd,os_version:await I(),btz:n.toString(),bto:r.toString(),cmeta:o};e&&(s.zoneid=e),Object.entries(i).forEach(([e,t])=>{t&&(s[e]=t)});a=q(s);return t?G({passParamToParams:t,searchParams:a,windowUrl:new URL(window.location.href)}):a},$=(t,n)=>{try{for(let e=0;e<n;e+=1)window.history.pushState(null,"Please wait...",t);var e=window.location.href;window.history.pushState(null,document.title,e),console.log(`Back initializated ${n} times with `+t)}catch(e){e instanceof Error&&window.syncMetric&&window.syncMetric({event:"error",errorMessage:e.message,errorType:"CUSTOM",errorSubType:"PushStateToHistory"})}},v=async t=>{var t=null==t?void 0:t.back;if(t){var{currentTab:n,pageUrl:r}=t;if(n){var t=null!=(t=t.count)?t:10,{origin:a,pathname:o}=window.location;let e=""+a+o;r?e=r:((e=(e=e.includes("index.html")?e.split("/index.html")[0]:e).includes("back.html")?e.split("/back.html")[0]:e).endsWith("/")&&(e=e.substring(0,e.length-1)),e+="/back.html");a=new URL(e),o=await w({zone:n.zoneId}),r=(n.url?o.set("url",n.url):n.domain&&n.zoneId&&(o.set("z",n.zoneId),o.set("domain",n.domain)),decodeURIComponent(a.toString()+"?"+o.toString()));$(r,t)}}},h=async(e,t,n)=>{t=t.includes("http")?t:"https://"+t,t=new URL(t+"/afu.php"),e=await w({zone:e.toString(),passParamToParams:n}),n=decodeURIComponent(t.toString()+"?"+e.toString());return console.log("URL generated:",n),n},g=({url:e})=>{window.location.replace(e)},V=({currentTabUrl:e,newTabUrl:t})=>{t?(t=window.open(t,"_blank"))&&(t.opener=null,e)&&document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&g({url:e})}):e&&g({url:e})},p=(e,t)=>{console.error(`${t||"Some exit"} was supposed to work, but some data about this type of exit was missed`,e)},y=async(t,n,r=!0)=>{var a,o=t[n].currentTab;if(console.log(n+" worked",t),o){let e;if(o.zoneId&&o.domain)return null!=(a=window.syncMetric)&&a.call(window,{event:n,exitZoneId:o.zoneId}),e=await h(o.zoneId,o.domain),r&&await v(t),g({url:e});if(o.url)return null!=(a=window.syncMetric)&&a.call(window,{event:n,exitZoneId:o.url}),e=o.url,r&&await v(t),g({url:e})}p(o,n)},z=async(n,r)=>{var a,o=n[r];if(console.log(r+" worked",n),o){var{currentTab:i,newTab:s}=o;let e;i&&(i.zoneId&&i.domain?(e=await h(i.zoneId,i.domain),null!=(a=window.syncMetric)&&a.call(window,{event:r,exitZoneId:i.zoneId})):i.url?e=i.url:p(o,r));let t;s&&(s.zoneId&&s.domain?(t=await h(s.zoneId,s.domain),null!=(a=window.syncMetric)&&a.call(window,{event:r,exitZoneId:s.zoneId})):s.url?t=s.url:p(o,r)),await v(n),void V({currentTabUrl:e,newTabUrl:t})}else p(o,r)},H=()=>"undefined"!=typeof APP_CONFIG||(document.body.innerHTML=`
            <p style="">LANDING CAN'T BE RENDERED. ðŸ”” PLEASE ADD CODE(you can find an object with options in your Propush account) FROM PROPUSH TO HEAD TAG.</p>
        `,!1),B=["currentTab","newTab"],_=["zoneId","url"],b=a=>{if(H()){let{domain:i,videoCount:e,prizeName:t,prizeImg:n,...r}=a;return{videoCount:e,prizeName:t,prizeImg:n,...Object.entries(r).reduce((e,[t,n])=>{var r,[t,a,o]=t.split("_");return t&&(B.includes(a)?(r=a,_.includes(o)&&(e[t]={...e[t],[r]:{domain:"zoneId"===o?i:void 0,[o]:n}})):_.includes(a)?(r=a,e[t]={...e[t],currentTab:{domain:"zoneId"===r?i:void 0,[r]:n}}):(o=a,e[t]={...e[t],[o]:n})),e},{})}}},Z=((async()=>{let i,s=b(APP_CONFIG);if(s){var l=null==s?void 0:s.autoexit;if(null!=l&&l.currentTab){let e=null!=(i=l.timeToRedirect)?i:90,t="visible"===document.visibilityState,n=!1,r=function(){"visible"===document.visibilityState?(t=!0,n&&y(s,"autoexit")):t=!1},a=()=>(document.addEventListener("visibilitychange",r),setTimeout(()=>{n=!0,t&&y(s,"autoexit")},1e3*e)),o=a();l=()=>{clearTimeout(o),document.removeEventListener("visibilitychange",r)};document.addEventListener("mousemove",l),document.addEventListener("click",l),document.addEventListener("scroll",l)}}})(),5184e3),J=async e=>{var t=await w({zone:e.toString()}),n=m.abtest||APP_CONFIG.abtest;return m.ymid&&t.set("var_2",m.ymid),e&&t.set("z",e),m.wua&&t.set("wua",m.wua),n&&(t.set("ab2",String(n)),t.set("ab2_ttl",""+Z)),t.set("sw","./sw.js"),t.set("d",location.host),t},u=async({outDomain:n,pushDomain:r,pushZone:a,allowedNew:o,allowedPop:i,subscribedNew:s,subscribedPop:l})=>{var e;(async e=>{var t=await J(a);e.src=`https://${r}/hid.js?`+t,e.onload=function(e){e.zoneId=a,e.events.onPermissionDefault=function(){},e.events.onPermissionAllowed=async function(){o&&window.open(await h(o,n),"_blank"),i&&(window.location.href=await h(i,n))},e.events.onPermissionDenied=function(){},e.events.onAlreadySubscribed=async function(){s&&window.open(await h(s,n),"_blank"),l&&(window.location.href=await h(l,n))},e.events.onNotificationUnsupported=function(){}}})(null==(e=[document.documentElement,document.body].filter(Boolean).pop())?void 0:e.appendChild(document.createElement("script")))},O=((T=b(APP_CONFIG))&&null!=(k=null==(T=T.push)?void 0:T.currentTab)&&k.domain&&null!=(k=null==T?void 0:T.currentTab)&&k.zoneId&&u({outDomain:T.currentTab.domain,pushDomain:"kmnts.com",pushZone:T.currentTab.zoneId}),(async()=>{let r=b(APP_CONFIG);if(r){var e=null==r?void 0:r.reverse;let n=!1;null!=e&&e.currentTab&&(window.addEventListener("click",async()=>{try{var e,t;n||(e=window.location.pathname,t=""+e+window.location.search,await v(r),window.history.pushState(null,"",t),n=!0)}catch(e){e instanceof Error&&window.syncMetric&&window.syncMetric({event:"error",errorMessage:e.message,errorType:"CUSTOM",errorSubType:"Reverse"})}},{capture:!0}),window.addEventListener("popstate",()=>{y(r,"reverse",!1)}))}})(),"step");var f,k=(e=O,t=!0)=>{var n=new URL(window.location.href).searchParams.get(e);return t&&(t=e,e=window.location.href,(e=new URL(e)).searchParams.delete(t),t=e.href,window.history.replaceState(window.history.state,"",t)),n},P=()=>{var e=window.location.search,e=new URLSearchParams(e).get("lang"),t=navigator.language.split("-")[0];return e||t||"en"},S={},j=async(t,e)=>{let n=P();return S[n]&&f===e||(f=e,S[n]=(async()=>{try{return await(await fetch(e?`${e}/${n}.json`:`./locales/${n}.json`)).json()}catch(e){return e instanceof Error&&window.syncMetric&&window.syncMetric({event:"error",errorMessage:e.message,errorType:"CUSTOM",errorSubType:"GetTranslations"}),t()}})()),S[n]},M=async()=>Promise.resolve().then(()=>n(d(),1)).then(e=>e.default);{let I=b(APP_CONFIG);if(console.log("CONFIG:",I),I){let a=499,o=9999,i=2,s=APP_CONFIG.secondsLeftBeforeFinal||10,e=90,l=1e3,t={step:"step"},n="blur",c="game__main__bonus-value",d="game__main__image-rotate-1",u="game__main__image-rotate-2",r="hidden",m="visible",w,v,h,g,p,y,_,b,f,P,S,T,E=()=>{A(P),w&&w.classList.remove(n)},L=()=>{document.removeEventListener("click",L),U(_);let n=0;function e(){var e,t;(n+=1)===i&&A(y),null!=p&&p.classList.contains(d)?(p.classList.remove(d),p.classList.add(u)):null!=p&&p.classList.contains(u)?(p.classList.remove(u),p.classList.add(d)):p&&p.classList.add(d),t="+"+C(a,o),g&&((e=document.createElement("div")).classList.add(c),e.innerText=t,e.style.left=C(0,90)+"%",e.style.top=C(0,90)+"%",g.append(e))}{var r=()=>{document.removeEventListener("click",e),Y()};let t=0,n=(N(f,""+(s-t)),setInterval(()=>{var e;(t+=1)===s+1?(clearInterval(n),r()):(e=s-t,N(f,""+e),x(T,(null==T?void 0:T.getAttribute("data-translate"))||"",{seconds:e}),b&&(b.style.width=t/s*100+"%"))},l))}document.addEventListener("click",e)};function U(e){e&&(e.classList.remove(r),e.classList.add(m))}function A(e){e&&(e.classList.remove(m),e.classList.add(r))}function C(e,t){return Math.floor(Math.random()*(t-e)+e)}function N(e,t){e&&(e.innerText=t)}async function x(e,t,r){if(e){let n=(await j(M))[t];Object.entries(r).forEach(([e,t])=>{n=n.replace(new RegExp(`{${e}}`,"g"),t.toString())}),e.textContent=n}}function Y(){U(v);let a=e,o=()=>{var e,t,n,r;x(h,(null==h?void 0:h.getAttribute("data-translate"))||"",{final_seconds:(e=a,t=Math.floor(e/3600),n=Math.floor(e/60)%60,e%=60,`${(r=e=>e.toString().padStart(2,"0"))(t)}:${r(n)}:`+r(e))}),0<a&&(a--,setTimeout(o,l))};o(),document.addEventListener("click",()=>{z(I,"mainExit")})}function R(e){e.preventDefault(),S&&S.removeEventListener("click",R),(async(e,t,n=O)=>{var r=new URL(window.location.href);r.searchParams.append(n,t.toString()),z({...e,tabUnderClick:{...e.tabUnderClick,newTab:{url:r.toString()}}},"tabUnderClick")})(I,t.step)}w=document.querySelector(".game"),v=document.querySelector(".game-final-screen"),h=document.querySelector(".game__header__text"),g=document.querySelector(".game__main__bonus-container"),p=document.querySelector(".game__main__image"),y=document.querySelector(".game__main__image-hand"),_=document.querySelector(".game__progress"),b=document.querySelector(".game__progress__bar"),f=document.querySelector(".game__progress__value"),P=document.querySelector(".modal"),S=document.querySelector(".modal__window__button"),T=document.querySelector(".game__progress__value-header"),k()===t.step?(E(),document.addEventListener("click",L)):S&&S.addEventListener("click",R)}}var T;(async(e,r,t)=>{var n=P(),n=(document.documentElement.setAttribute("lang",n),["ar","he","fa","ur","az","ku","ff","dv"].includes(n)&&document.documentElement.setAttribute("dir","rtl"),await j(e,t));let a=[];Object.entries(n).forEach(e=>{var t=e[0];let n=e[1];e=null==r?void 0:r[t],n=e?n.replaceAll(e.macros,e.macrosValue):n,e=document.querySelectorAll(`[data-translate="${t}"]`);null!=e&&e.length?e.forEach(e=>{e&&(e.hasAttribute("data-translate-html")?e.innerHTML=n:(e.childNodes.length||(e.textContent=n),e.childNodes.forEach(e=>{e.nodeType===Node.TEXT_NODE&&(e.nodeValue=n)})))}):a.push(t)}),a.length&&console.warn("Some keys from locales folder weren't used for translation when loading the landing page for the first time:",a.join(", "))})(M,{you_have_10_seconds_tap_to_earn:{macros:"{seconds}",macrosValue:(null==(u=APP_CONFIG.secondsLeftBeforeFinal)?void 0:u.toString())||"10"},you_have_10_seconds:{macros:"{seconds}",macrosValue:(null==(T=APP_CONFIG.secondsLeftBeforeFinal)?void 0:T.toString())||"10"}})})();